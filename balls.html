<!DOCTYPE HTML PUBLIC >
<html>
<head>
    <script
        src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
    <style type="text/css">
        canvas#pit {
            border: 1px dotted gray;
        }
    </style>
</head>
<body>
	<canvas id="pit" width="500" height="500"></canvas>
    <script>
    	function randInt(min, max) { return Math.floor(Math.random() * (max - min + 1) ) + min; }

    	let balls=[];
	let canvas=document.getElementById('pit');
	balls.push(new Ball(100, 100, 1, 2, 5, 'blue'));
	let colors=['blue','red','green','orange'];
	// throw in 15 random balls of each color
	for(let i=0; i<colors.length; i++)
		for(let j=0; j<15; j++)
			balls.push(new Ball(randInt(100,200), randInt(100,200), randInt(-8,8), randInt(-8,8), randInt(5,25), colors[i]));

	setInterval('animate()', 20);
    	function Ball(x, y, vx, vy, radius, color) {
		this.x=x;
		this.y=y;
		this.vx=vx;
		this.vy=vy;
		this.radius=radius;
		this.color=color;
	}
	function animate() {
		// update all the positions
		for(let i=0; i<balls.length; i++) {
			balls[i].x+=balls[i].vx;
			balls[i].y+=balls[i].vy;
			
			// hitting top
			if(balls[i].y < balls[i].radius) {
				balls[i].y=balls[i].radius;
				balls[i].vy*=-1;
			}

			// hitting bottom
			if(balls[i].y+balls[i].radius > canvas.height) {
				balls[i].y=canvas.height-balls[i].radius;
				balls[i].vy*=-1;
			}

			// hitting left
			if(balls[i].x < balls[i].radius) {
				balls[i].x=balls[i].radius;
				balls[i].vx*=-1;
			}

			// hitting right
			if(balls[i].x+balls[i].radius > canvas.width) {
				balls[i].x=canvas.width-balls[i].radius;
				balls[i].vx*=-1;
			}
		}

		// re-draw everything
		let context=canvas.getContext('2d');
		context.clearRect(0,0,canvas.width, canvas.height);
		for(let i=0; i<balls.length; i++) {
			context.beginPath();
			context.arc(balls[i].x, balls[i].y, balls[i].radius, 0, 2*Math.PI, false);
			context.fillStyle=balls[i].color;
			context.fill();
		}
	}
    </script>
</body>
</html>
