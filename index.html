<!DOCTYPE HTML PUBLIC >
<html>
<head>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<meta charset="utf-8">
	<script>
		var check_function=function() {return false;}; // global variable to hold function to check on running 
		var problem_index=-1;

		problems=[
			{
				instructions: 'Output the statement “Hello World” as shown in the example output.',
				expected_output: 'Hello World',
				check_function: function() {
					return document.getElementById('output_body').innerHTML==window.problems[problem_index].expected_output;
				}
			},
			{
				instructions: 'Set a variable to the string “Hello World”; output that variable.',
				expected_output: 'Hello World'
			},
			{
				instructions: 'Set a variable to false and then print out “True value” if it is true and “False value” if it is false.',
				expected_output: 'False Value'
			},
			{
				instructions: 'Output the statement “Hello World” five times on separate lines as shown in the example output.',
				expected_output:'Hello World<br>Hello World<br>Hello World<br>Hello World<br>Hello World'
			},
			{
				instructions: 'Output the statement “Hello World” five times on separate lines but add the number to the beginning of the output statement as shown in the example output.',
				expected_output:'1 Hello World<br>2 Hello World<br>3 Hello World<br>4 Hello World<br>5 Hello World'
			},
			{
				instructions: 'Output the statement “Hello World” five times on separate lines but on the third time change the output to “Goodbye World” as shown in the example output.',
				expected_output:'Hello World<br>Hello World<br>Goodbye World<br>Hello World<br>Hello World'
			},
			{
				instructions: 'The function makeBlue() will change the color of the box. Using this information, change the box to the color blue.',
				expected_output:'A blue Box'
			},
			{
				instructions: 'The functions makeBoxBlue(), makeBoxRed(), makeBallBlue(), makeBallRed() will change the colors of the box and ball. Using this information, change the box to the color red, and the ball to the color blue.',
				expected_output: 'Colored Box and Ball'
			},
			{
				instructions: 'The function makeBlue(x,y) will change the color of the box at the position with row x and column y. For example, makeBlue(0,0) will change the top corner box because it is zero-based. Using this information, change the center box on the grid to the color blue.',
				expected_output: 'Colored boxes'
			},
			{
				instructions: 'The function makeBlue(x,y) will change the color of the box at the position with row x and column y. For example, makeBlue(0,0) will change the top corner box because it is zero-based. Using this information, make all of the boxes on the diagonal blue (from top left to bottom right).',
				expected_output: 'Colored boxes'
			}
		];

		function loadProblem(num) {
			if (num >= 0 && num < problems.length){
				problem=problems[num];
				problem_index=num;
				document.getElementById('instructions_body').innerHTML=problem.instructions;
				document.getElementById('expected_body').innerHTML=problem.expected_output;
				check_function=problem.check_function;
			}
		}
		
		function nextProblem() {
			problem_index=(problem_index+1)%problems.length;
			loadProblem(problem_index);
		}
		
		function previousProblem() {
			problem_index=(problem_index-1)%problems.length;
			loadProblem(problem_index);
		}
	</script>
	<style type="text/css">
		body {
			font-family: Arial;
			font-size: 12pt;
		}
		div {
			border: 0px solid black;
		}
		div.outer {
			border: 1px dotted gray;
			border-radius: 8px;
			position: relative;
		}
		div.title {
			padding: 5px;
			background-color: #004;
			color: white;
			font-weight: bold;
			font-size: 14pt;
			border-radius: 8px 8px 0 0;
		}
		div.body {
			padding: 5px;
		}
		
		div#instructions_outer {
			width: 1060px;
			margin-bottom: 10px;
		}
		div#code_outer {
			width: 500px;
			float: left;
		}
		div#output_outer {
			width: 243px;
			float: left;
			margin-left: 5px;
		}
		div#expected_outer {
			width: 243px;
			float: left;
			margin-left: 5px;
		}
		div#code_body, div#output_body, div#expected_body {
			height: 400px;
			font-family: monospace;
		}
		
		div#image_holder {
			float: left;
			padding: 200px 2px 0 5px;
		}
		
		
		button#run {
			position: absolute; 
			bottom: 5px; 
			right: 5px;
			font-size: 14pt;
			font-weight: bold;
			padding: 3px 15px 3px 15px;
		}

		nav#prob_nav{
			float: left;
			padding: 10px 5px 0 5px;
		}

		nav#prob_nav_col{
			position: right;
		}
		
		span.error {
			color: red;
		}
	</style>
	<script src="ace/ace.js" type="text/javascript" charset="utf-8"></script>
</head>
<body>
	<div id="instructions_outer" class="outer">
		<div id="instructions_title" class="title">
			Instructions
		</div>	
		<div id="instructions_body" class="body">
			Here's how you do stuff!
		</div>		
	</div>
	
	<div id="code_outer" class="outer">
		<div id="code_title" class="title">
			Code
		</div>	
		<div id="code_body" class="body"></div>		
		<button id="run" onclick="run()">Run!</button>
	</div>
	
	<div id="output_outer" class="outer">
		<div id="output_title" class="title">
			Output
		</div>	
		<div id="output_body" class="body">
			Output of your program
		</div>		
	</div>
	
	<div id="image_holder">
		<img id="icon" src="images/disconnected.png">
	</div>
	
	<div id="expected_outer" class="outer">
		<div id="expected_title" class="title">
			Expected Output
		</div>	
		<div id="expected_body" class="body">
			What you should see
		</div>		
	</div>
	
	<nav id="prob_nav_col" class="nav nav-pills flex-column">
		<a class="nav-link active" data-toggle="pill" href="javascript:loadProblem(0)" aria-selected="true" >Problem 1</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(1)" aria-selected="false">Problem 2</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(2)" aria-selected="false">Problem 3</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(3)" aria-selected="false">Problem 4</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(4)" aria-selected="false">Problem 5</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(5)" aria-selected="false">Problem 6</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(6)" aria-selected="false">Problem 7</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(7)" aria-selected="false">Problem 8</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(8)" aria-selected="false">Problem 9</a>
		<a class="nav-link" data-toggle="pill" href="javascript:loadProblem(9)" aria-selected="false">Problem 10</a>
	</nav>

	<nav id="prob_nav" aria-label="Problem_navigation">
		<ul class="pagination">
		  <li class="page-item"><a class="page-link" href="javascript:nextProblem()">Previous</a></li>
		  <li class="page-item"><a class="page-link" href="javascript:loadProblem(0)">1</a></li>
		  <li class="page-item"><a class="page-link" href="javascript:loadProblem(1)">2</a></li>
		  <li class="page-item"><a class="page-link" href="javascript:loadProblem(2)">3</a></li>
		  <li class="page-item"><a class="page-link" href="javascript:previousProblem()">Next</a></li>
		</ul>
	</nav>

	<script>
		ace.config.set("basePath", "ace/");
		var editor = ace.edit("code_body");
		editor.session.setMode("ace/mode/javascript");
		editor.setOptions({fontSize: "12pt"});
		
		var former = console.log;
		console.log = function(msg){
			former(msg);  //maintains existing logging via the console.
			document.getElementById('output_body').innerHTML=msg;
			if(check_function()) {
				document.getElementById('icon').src='images/connected.png';
				document.getElementById('output_body').style.backgroundColor='#9f9';
				document.getElementById('expected_body').style.backgroundColor='#9f9';
			} else {
				document.getElementById('icon').src='images/disconnected.png';
				document.getElementById('output_body').style.backgroundColor='#fff';
				document.getElementById('expected_body').style.backgroundColor='#fff';
			}
				
		}

		window.onerror = function(message) {
			console.log('<span class="error">Parsing error in code; please double-check your code and run again.</span>');
		}
		
		function run() {
			document.getElementById('output_body').innerHTML='';
			eval(editor.getValue());
		}
	</script>
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
